{%- assign page = include.page -%}
{%- assign cover_image = page.cover_image -%}

{% if cover_image %}
  <figure class="cover-image lazy-wrapper">
    <img
      data-src="{{ cover_image.path | relative_url }}"
      class="img-fluid"
      {% if cover_image.lqip %}src="{{ cover_image.lqip }}" data-lqip="true"{% endif %}
      {% if cover_image.width %}width="{{ cover_image.width }}"{% endif %}
      {% if cover_image.height %}height="{{ cover_image.height }}"{% endif %}
      {% if cover_image.alt %}alt="{{ cover_image.alt | xml_escape }}"{% else %}alt="Cover image of {% if page.layout == 'post' %}Post{% else %}Series{% endif %} {{ page.title }}"{% endif %}
      loading="lazy"
    >
    {% if cover_image.alt %}
      <figcaption>{{ cover_image.alt }}</figcaption>
    {% endif %}
  </figure>
{% endif %}
