@use "abstracts/mixins/overlay" as *

.sidebar
  display: flex
  flex-direction: column
  position: fixed
  top: 0
  left: 0
  width: var(--sidebar-width-lg)
  height: 100vh
  background-image: url("./../assets/img/my-profile-img.png")
  background-position: center center
  background-repeat: no-repeat
  background-size: cover
  color: var(--color-fg-white)
  z-index: 999
  box-sizing: border-box
  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.5)
  max-height: 100vh

  @include overlay(rgba(0, 0, 0, 0.6))

  @media (max-width: 1024px)
    width: var(--sidebar-width-md)

  @media (max-width: 768px)
    width: var(--sidebar-width-sm)
    transform: translateX(-100%)
    opacity: 0
    pointer-events: none
    transition: transform var(--sidebar-motion-duration) ease, opacity var(--sidebar-motion-duration) ease
    will-change: transform, opacity

  body[data-sidebar="open"] &
    transform: translateX(0)
    opacity: 1
    pointer-events: auto

.sidebar-content
  flex: 1 1 auto
  display: flex
  flex-direction: column
  min-height: 0
  overflow-y: auto
  min-width: 0
  padding: 1rem

  &::-webkit-scrollbar
    display: none

  -ms-overflow-style: none
  scrollbar-width: none

  @media (max-width: 768px)
    padding: 0.75rem

.sidebar-top
  text-align: center

  .profile-pic
    margin-bottom: 0.5rem

.site-title
  font-size: clamp(1.0625rem, 2vw, 1.375rem)
  font-weight: 700
  color: var(--color-fg-white)
  margin: 0.5rem 0
  letter-spacing: 0.5px

.site-subtitle
  font-size: clamp(0.8125rem, 1.25vw, 0.9375rem)
  font-style: italic
  color: var(--color-fg-white)
  margin-bottom: 1rem
  filter: brightness(0.8)

.sidebar-social
  margin-bottom: 1rem
  display: flex
  gap: 0.5rem
  flex-wrap: wrap
  justify-content: center
  align-items: center

  @media (max-width: 768px)
    margin-bottom: 0.5rem

.social-icon
  width: clamp(1.75rem, 3vw, 2.25rem)
  height: clamp(1.75rem, 3vw, 2.25rem)
  border-radius: 6px
  display: flex
  align-items: center
  justify-content: center
  text-decoration: none

.sidebar-nav
  display: flex
  flex-direction: column
  gap: 0.5rem

  @media (max-width: 768px)
    padding: 0rem 0.25rem

.sidebar-nav-link
  color: var(--color-fg-white)
  padding: 0.75rem 1rem
  display: inline-flex
  align-items: center
  gap: 0.5rem
  transition: background-color 0.3s ease, color 0.3s ease
  will-change: background-color, color
  border-radius: 0.5rem
  font-size: clamp(0.8125rem, 1.25vw, 0.9375rem)

  &:hover,
  &:focus-visible
    color: var(--color-fg-on-emphasis)
    background-color: hsla(0, 0%, 100%, .1)
    border-left: 2px solid var(--color-border-accent-emphasis)
    text-decoration: none

  @media (max-width: 768px)
    padding: 0.5rem 0.75rem

.sidebar-toggle
  position: fixed
  top: 0.5rem
  right: var(--floating-button-right-offset)
  z-index: 1010
  background-color: var(--color-bg-accent-emphasis)
  border: none
  padding: 0.75rem
  border-radius: 50%
  cursor: pointer
  display: none
  width: 48px
  height: 48px

  .icon-bar
    width: 24px
    height: 2px
    background-color: var(--color-fg-white)
    transition: transform var(--sidebar-motion-duration) ease, opacity var(--sidebar-motion-duration) ease
    transform-origin: center

    &:first-of-type
      margin-top: 0

  .middle-bar
    opacity: 1

  .top-bar,
  .bottom-bar
    transform: rotate(0)

  body[data-sidebar="open"] &
    .middle-bar
      opacity: 0

    .top-bar
      transform: translateY(7px) rotate(45deg)

    .bottom-bar
      transform: translateY(-7px) rotate(-45deg)

  @media (max-width: 768px)
    display: flex
    flex-direction: column
    justify-content: center
    align-items: center
    gap: 5px
    right: 1rem

.sidebar-bottom
  margin-top: auto
  padding-inline: 2rem
  width: 100%
  display: flex
  flex-direction: row
  align-items: center
  justify-content: center
  text-align: center
  max-width: 100%
  min-width: 0
  overflow: hidden

  .bottom-link
    color: var(--color-fg-white)

    &:hover,
    &:focus-visible
      color: var(--color-fg-on-emphasis)
      text-decoration: none

.theme-switcher
  display: grid
  align-self: center
