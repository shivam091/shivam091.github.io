@use "abstracts/mixins/caret" as *
@use "abstracts/mixins/icon-mask" as *
@use "abstracts/mixins/transition-properties" as *

.dropdown
  position: relative
  display: inline-block

.dropdown-toggle
  cursor: pointer

.dropdown-menu
  position: absolute
  display: none
  background-color: var(--color-bg-overlay)
  border: var(--border-width-default) solid var(--color-border-overlay)
  box-shadow: var(--box-shadow-floating-sm)
  border-radius: var(--border-radius-default)
  z-index: 999
  pointer-events: none
  list-style: none
  width: max-content
  min-width: 10rem
  padding: var(--space-sm)

  &.show
    display: block
    pointer-events: auto

.dropdown-arrow
  @include caret

.dropdown-item
  display: grid
  grid-template-columns: auto 1fr
  grid-template-rows: max-content
  align-items: center
  gap: var(--space-sm)
  color: var(--color-fg-control)
  font-weight: var(--font-weight-medium)
  padding-block: var(--space-xs)
  background-color: var(--color-bg-control-transparent)
  border-radius: var(--border-radius-small)
  width: 100%
  -webkit-tap-highlight-color: transparent
  text-align: left
  touch-action: manipulation
  line-height: var(--line-height-tight)

  @include transition-properties(background-color, $duration: var(--motion-duration-fast), $easing: var(--motion-easing-in-out))

  &:hover,
  &:focus
    color: var(--color-fg-control)
    background-color: var(--color-bg-control-transparent-hover)
    text-decoration: none

.dropdown-item-selected
  position: relative

  &::after
    content: ""
    position: absolute
    right: var(--space-sm)
    top: 50%
    transform: translateY(-50%)
    width: var(--size-base)
    height: var(--size-base)
    @include icon-mask(var(--icon-check-circle), $color: var(--color-fg-success))
