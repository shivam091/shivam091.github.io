@use "abstracts/modules/no-cursor" as *
@use "abstracts/mixins/transition-properties" as *

$alert-types: (success, danger, attention, accent)

.alert
  position: relative
  display: flex
  align-items: center
  padding: 1rem
  border: var(--border-width-default) solid var(--color-border-transparent)
  border-radius: var(--border-radius-default)
  font-size: 0.95rem
  background-color: var(--color-bg-neutral-muted)
  color: var(--color-fg-default)
  gap: 1rem
  margin-bottom: 0.5rem
  line-height: var(--line-height-relaxed)

  @include transition-properties((opacity, transform, visibility), $duration: var(--motion-duration-default), $easing: var(--motion-easing-in-out))

  @each $type in $alert-types
    &-#{$type}
      background-image: linear-gradient(var(--color-bg-#{$type}-muted), var(--color-bg-#{$type}-muted))
      border-color: var(--color-border-#{$type}-emphasis)

      &.alert-outlined
        background-color: var(--color-bg-transparent)
        background-image: none
        color: var(--color-fg-#{$type})
        border-color: var(--color-border-#{$type}-emphasis)

      .alert-icon
        svg
          fill: var(--color-bg-#{$type}-emphasis)

  &.fade-out
    opacity: 0
    transform: translateY(-0.5rem)
    pointer-events: none
    visibility: hidden

  &-heading
    font-weight: var(--font-weight-semi-bold)
    margin: 0 0 0.25rem
    font-size: 1rem

  &-icon
    flex-shrink: 0
    display: inline-flex
    align-items: center
    justify-content: center
    color: inherit

  &-content
    flex: 1

    p
      margin-bottom: 0

  &-dismiss
    background-color: var(--color-bg-transparent)
    border: none
    color: inherit
    padding: 0
    line-height: 1
    flex-shrink: 0

    svg
      pointer-events: none

      @include transition-properties((transform, color), $duration: var(--motion-duration-default), $easing: var(--motion-easing-linear))

      @extend %no-cursor

    &:hover,
    &:focus
      background-color: var(--color-bg-transparent)

      svg
        transform: scale(1.25)
