@use "abstracts/tokens" as *

.code-block
  background-color: var(--color-bg-default)
  border: $border-default
  border-radius: $border-radius-default
  overflow: hidden
  font-size: $font-size-sm
  box-shadow: var(--box-shadow-floating-legacy)
  margin-block: $fluid-space-md

  figure
    margin-block: $space-none
    border: none
    border-radius: $border-radius-none
    background-color: var(--color-bg-default)

.code-block-header
  display: flex
  align-items: center
  justify-content: space-between
  background-color: var(--color-bg-muted)
  border-bottom: $border-muted
  padding: $space-sm $space-md

  .code-block-button-group
    display: flex
    gap: $space-xs

  .code-lang
    display: flex
    align-items: center
    justify-content: center
    gap: $space-xs
    flex-grow: 1
    font-weight: $font-weight-medium
    color: var(--color-fg-muted)

  .code-actions
    display: flex
    align-items: center
    gap: $space-sm

.code-actions
  .btn-copy,
  .btn-toggle-lines
    display: inline-flex
    align-items: center

[data-line-numbers="off"]
  .gutter
    display: none

[data-line-numbers="on"]
  .icon-hash
    stroke: hsl(from var(--color-fg-attention) h s l / 0.55)

  .gutter
    display: block

.gutter
  .lineno
    border-radius: 0
    border-right: $border-default

.code-block-button-group
  .code-block-action
    .icon-circle-fill
      width: 1em
      height: 1em

  .code-close
    .icon-circle-fill
      fill: var(--color-bg-danger-emphasis)

  .code-minimize
    .icon-circle-fill
      fill: var(--color-bg-attention-emphasis)

  .code-maximize
    .icon-circle-fill
      fill: var(--color-bg-success-emphasis)

[data-copy-code],
[data-copy-link],
[data-copy-target]
  #icon-check
    fill: var(--color-bg-success-emphasis)
